<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RC PDF Portal</title>

<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(270deg,red,blue,green,purple,cyan);
background-size:600% 600%;
animation:bg 12s infinite alternate;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
min-height:100vh;
}

@keyframes bg{
0%{background-position:0%}
100%{background-position:100%}
}

.home{
position:fixed;
top:12px;
left:12px;
background:white;
color:black;
padding:8px 16px;
border-radius:10px;
font-weight:bold;
cursor:pointer;
z-index:999;
}

.card{
background:#000c;
color:white;
padding:25px;
border-radius:18px;
width:92%;
max-width:420px;
text-align:center;
}

input,button{
width:100%;
padding:12px;
margin-top:10px;
border:none;
border-radius:10px;
font-size:16px;
}

button{
background:#00ffd5;
font-weight:bold;
cursor:pointer;
}

.hidden{display:none;}

img{
width:220px;
border-radius:14px;
margin:12px 0;
}

/* ===== LOGIN SYSTEM ===== */

#authBox{
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(0,0,0,.88);
display:flex;
align-items:center;
justify-content:center;
z-index:9999;
}

.authCard{
background:white;
color:black;
padding:28px;
width:320px;
border-radius:16px;
text-align:center;
}

.authCard input{
border:1px solid #ccc;
}

.authLinks{
display:flex;
justify-content:space-between;
font-size:14px;
color:#0a58ca;
cursor:pointer;
}

#userName{
position:fixed;
top:12px;
right:12px;
background:white;
padding:6px 12px;
border-radius:10px;
font-weight:bold;
z-index:1000;
display:none;
}
</style>
</head>

<body>

<!-- LOGIN OVERLAY -->
<div id="authBox">
<div class="authCard">

<h3 id="authTitle">Login</h3>

<input id="nameField" placeholder="Your Name" style="display:none">
<input id="mobileField" placeholder="Mobile Number">
<input id="passField" type="password" placeholder="Password">

<label style="font-size:14px">
<input type="checkbox" onclick="togglePass()"> Show password
</label>

<button onclick="authAction()">Login</button>

<div class="authLinks">
<span id="signupBtn" onclick="switchSignup()">Signup</span>
<span id="loginBtn" onclick="switchLogin()" style="display:none">Back to Login</span>
</div>

<p id="authMsg"></p>
</div>
</div>

<div id="userName"></div>

<!-- YOUR ORIGINAL SITE (UNCHANGED) -->

<div class="home" onclick="goHome()">üè† Home</div>

<div class="card">

<div id="p1">
<h3>üöó Enter Vehicle Number üèçÔ∏è</h3>
<input id="vehicle" placeholder="BR-09-AB-1234">
<button onclick="goPay()">Continue</button>
</div>

<div id="p2" class="hidden">
<h3>Pay ‚Çπ120</h3>

<img src="https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=upi://pay?pa=bestinsurance@upi&pn=BestInsurance&am=120&cu=INR">
<p>UPI ID: bestinsurance@upi</p>

<a href="upi://pay?pa=bestinsurance@upi&pn=BestInsurance&am=120&cu=INR">
<button>Pay with UPI App</button>
</a>

<input id="mobile" placeholder="Mobile Number">
<input type="file" id="proof">

<button onclick="submitPay()">Submit</button>
</div>

<div id="p3" class="hidden">
<h3>‚úÖ Payment Successful</h3>
<p>Aapko jald RC PDF milega</p>
</div>

</div>

<script>
/* ===== LOGIN SYSTEM ===== */

let users = JSON.parse(localStorage.getItem("users")||"{}");

function saveUsers(){
 localStorage.setItem("users",JSON.stringify(users));
}

function togglePass(){
 passField.type = passField.type==="password"?"text":"password";
}

function switchSignup(){
 authTitle.innerText="Signup";
 nameField.style.display="block";
 signupBtn.style.display="none";
 loginBtn.style.display="inline";
}

function switchLogin(){
 authTitle.innerText="Login";
 nameField.style.display="none";
 signupBtn.style.display="inline";
 loginBtn.style.display="none";
}

function authAction(){
 let m = mobileField.value.trim();
 let p = passField.value.trim();
 let n = nameField.value.trim();

 if(authTitle.innerText==="Signup"){
   if(!n||!m||!p) return authMsg.innerText="Fill all fields";
   if(users[m]) return authMsg.innerText="Already registered";

   users[m]={name:n,password:p};
   saveUsers();
   authMsg.innerText="Signup done. Login now.";
   switchLogin();
   return;
 }

 if(!users[m]) return authMsg.innerText="User not found";
 if(users[m].password!==p) return authMsg.innerText="Wrong password";

 localStorage.setItem("loggedUser",m);
 showUser();
 authBox.style.display="none";
}

function showUser(){
 let m = localStorage.getItem("loggedUser");
 if(!m || !users[m]) return;
 userName.innerText="üë§ "+users[m].name;
 userName.style.display="block";
}

if(localStorage.getItem("loggedUser")){
 showUser();
 authBox.style.display="none";
}

/* ===== YOUR PAYMENT FLOW (UNCHANGED) ===== */

function goHome(){
p2.classList.add("hidden");
p3.classList.add("hidden");
p1.classList.remove("hidden");
}

function goPay(){
if(!vehicle.value) return alert("Vehicle number required");
p1.classList.add("hidden");
p2.classList.remove("hidden");
}

function submitPay(){
if(mobile.value.length<10) return alert("Mobile required");
if(!proof.files[0]) return alert("Upload screenshot");

p2.classList.add("hidden");
p3.classList.remove("hidden");

setTimeout(()=>{
goHome();
vehicle.value="";
mobile.value="";
proof.value="";
},2500);
}
</script>

</body>
</html>